<header class="main-header">
  <!-- Logo -->
  <a href="#" class="logo" style="background-color: #000">
    <!-- mini logo for sidebar mini 50x50 pixels -->
    <span class="logo-mini"><img style="max-height: 50px" src="/assets/images/dfm_logo.png" alt="DFM Engineering" ></span>
    <!-- logo for regular state and mobile devices -->
    <span class="logo-lg"><img style="max-height: 50px" src="/assets/images/dfm_logo.png" alt="DFM Engineering" > </span>
  </a>
  <!-- Header Navbar: style can be found in header.less -->
  <nav class="navbar navbar-static-top">
    <!-- Sidebar toggle button-->
    <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
      <span class="sr-only">Toggle navigation</span>
    </a>

    <div class="navbar-custom-menu">
      <ul class="nav navbar-nav">
        <!-- Messages: style can be found in dropdown.less-->
        <!-- <li class="dropdown messages-menu">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-envelope-o"></i>
            <span class="label label-success">4</span>
          </a>
          
        </li> -->
        <!-- Notifications: style can be found in dropdown.less class="dropdown-toggle" data-toggle="dropdown" -->
        <li class="dropdown notifications-menu">
          <a  href="#" data-toggle="modal" data-target="#alarm"   >
            <i class="fa fa-bell-o"></i>
            <span *ngIf=" alarms.length > 0 "  class="label label-danger">{{ alarms.length }}</span>
            <span *ngIf=" alarms.length <= 0 "  class="label label-success">{{ alarms.length }}</span>
          </a>
          <!-- <ul class="dropdown-menu">
            <li class="header">You have 10 notifications</li>
            <li>
              
              <ul class="menu">
                <li>
                  <a href="#">
                    <i class="fa fa-users text-aqua"></i> 5 new members joined today
                  </a>
                </li>
                <li>
                  <a href="#">
                    <i class="fa fa-warning text-yellow"></i> Very long description here that may not fit into the
                    page and may cause design problems
                  </a>
                </li>
                <li>
                  <a href="#">
                    <i class="fa fa-users text-red"></i> 5 new members joined
                  </a>
                </li>
                <li>
                  <a href="#">
                    <i class="fa fa-shopping-cart text-green"></i> 25 sales made
                  </a>
                </li>
                <li>
                  <a href="#">
                    <i class="fa fa-user text-red"></i> You changed your username
                  </a>
                </li>
              </ul>
            </li>
            <li class="footer"><a href="#">View all</a></li>
          </ul> -->
        </li>
        <!-- Tasks: style can be found in dropdown.less -->
       
        <!-- User Account: style can be found in dropdown.less -->
        <li class="dropdown user user-menu">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <img src="/assets/images/flat-avatar.png" class="user-image" alt="User Image">
            <span class="hidden-xs">{{username}}</span>
          </a>
          <ul class="dropdown-menu">
            <!-- User image -->
            <!-- <li class="user-header">
              <img src="/assets/dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">

              <p>
                Alexander Pierce - Web Developer
                <small>Member since Nov. 2012</small>
              </p>
            </li> -->
            <!-- Menu Body -->
            <!-- <li class="user-body">
              <div class="row">
                <div class="col-xs-4 text-center">
                  <a href="#">Followers</a>
                </div>
                <div class="col-xs-4 text-center">
                  <a href="#">Sales</a>
                </div>
                <div class="col-xs-4 text-center">
                  <a href="#">Friends</a>
                </div>
              </div>
              
            </li> -->
            <!-- Menu Footer-->
            <li class="user-footer">
              <div class="pull-left">
                <a href="#" (click)="getUpdateUser2(userData)" data-toggle="modal" data-target="#userUpdate" class="btn btn-default btn-flat">Profile</a>
              </div>
              <div class="pull-right">
                <a href="/auth/signout" class="btn btn-default btn-flat">Sign out</a>
              </div>
            </li>
          </ul>
        </li>
        <!-- Control Sidebar Toggle Button -->
        <!-- <li>
          <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
        </li> -->
      </ul>
    </div>
  </nav>
</header>

<div *ngIf=" checkUpdate == true " id="userUpdate" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <form (ngSubmit)="saveUser()">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">UPDATE USER </h4>
          </div>
          <div class="row modal-body">
              <div class="col-md-12 md gw-left">  
                <input title="Username" class="form-control" type="text" [(ngModel)]="updateUser.name_user"  name="name_user"  placeholder="User Name">
                <input title="Email" class="form-control" type="email" [(ngModel)]="updateUser.email" name="email" placeholder="Email">
                <input title="Password"  autocomplete="off" class="form-control" type="password" [(ngModel)]="updateUser.password" name="password"  placeholder="Password">
                <input type="text" class="form-control"  readonly value="{{textCompany}}"  >
                <input  type="text" class="form-control" readonly  value="{{textRole}}"  >
                
                <ng-select style="display: none;" title="Company" #company1 
                  [items]="itemsCompany"
                  (data)="refreshValue($event)"
                  (selected)="selected($event)"
                  (removed)="removed($event)"
                  (typed)="typed($event)"
                  placeholder="No Company Selected">
                </ng-select>
                <ng-select style="display: none;" title="Role" #role1 
                  [items]="itemsRole"
                  (data)="refreshValue($event)"
                  (selected)="selected2($event)"
                  (removed)="removed($event)"
                  (typed)="typed($event)"
                  placeholder="No Role Selected">
                </ng-select>
              </div>
          </div>
          <div class="modal-footer" style="margin-top: 20px">
            <button type="button" id="closeModal" class="btn btn-default" data-dismiss="modal">Close</button>
            <button class="btn btn-primary"  type="submit" value=" ">SAVE</button>
          </div>
        </div>
      </form>      
    </div> 
</div>


<div *ngIf=" alarms.length > 0 "  id="alarm"  class="modal fade" role="dialog">
  <div class="modal-dialog">
      
          <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title">ALARM </h4>
          </div>
          <div class="modal-body">
              <div class="col-md-12 md gw-left">  
              
              <p *ngIf=" alarms.length > 0 " style="color:#dc3545"> 
                  The list of devices doesn't work 
              </p>    
              <table *ngIf=" alarms.length >0 " class="table table-striped table-hover dataTable" style="width: 100%;">
                  
                  <thead>
                      <tr>
                          <td>
                          Id
                          </td>
                          <td>
                          Name
                          </td>
                      </tr>
                  </thead>
                  <tr *ngFor="let alarm of alarms">

                      <td>{{alarm._id}}</td>
                      <td>{{alarm.name_node}}</td>
                  </tr>
      
              </table>  
              <p *ngIf=" alarms.length < 1"> The devices are working normally</p>    
          
              </div>
              
              <div class="row">
                  
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>